properties:
  - name: project_repo_name
    type: std::string
    init_with: "\"\""
    constructor_arg: true
  - name: project_repo_base_path
    type: std::string
    init_with: "\"/Users/markoates/Repos/\""
    getter: true
    constructor_arg: true
functions:
  - name: get_source_file_listing
    type: std::vector<std::string>
    body: |
      std::stringstream command;

      command << "(cd " << project_repo_base_path << project_repo_name << " && " << "find -f **/*)";

      std::string response = Blast::ShellCommandExecutorWithCallback(
         command.str(),
         ShellCommandExecutorWithCallback::simple_silent_callback
      ).execute();

      std::vector<std::string> response_lines = StringSplitter(response, '\n').split();

      return response_lines;
    body_dependency_symbols:
      - std::stringstream
  - name: build_repo_base_path_directory_components
    type: std::vector<std::string>
    body: return StringSplitter(project_repo_base_path, '/').split();
  - name: build_include_folder_directory_components
    type: std::vector<std::string>
    body: |
      std::vector<std::string> result = StringSplitter(project_repo_base_path, '/').split();
      result.push_back("releases");
      result.push_back("include");
      return result;
  - name: build_src_folder_directory_components
    type: std::vector<std::string>
    body: |
      std::vector<std::string> result = StringSplitter(project_repo_base_path, '/').split();
      result.push_back("releases");
      result.push_back("src");
      return result;
  - name: build_data_folder_directory_components
    type: std::vector<std::string>
    body: |
      std::vector<std::string> result = StringSplitter(project_repo_base_path, '/').split();
      result.push_back("releases");
      result.push_back("data");
      return result;
  - name: create_folders
    body: |
       // make folder if not exists
       // releases/
       //bool result = Blast::DirectoryCreator({
       //},
       //true).create();

       //if (result != 0) { throw std::runtime_error("could not create directories"); }

       // make folder if not exists
       // releases/source/

       // copy source files
       // find src/**/*

       // copy   releases/source/data/* files
       // copy   releases/source/include/* files
       // copy   releases/source/src/* files
       // create releases/source/Makefile

       //- al_load_bitmap
       //- al_load_font
       //- bitmaps
       //- fonts
    body_dependency_symbols:
      - StringSplitter
      - Blast::DirectoryCreator
      - Blast::ShellCommandExecutorWithCallback
      - std::cout
      - std::endl
dependencies:
  - symbol: Blast::DirectoryCreator
    headers: [ Blast/DirectoryCreator.hpp ]
  - symbol: StringSplitter
    headers: [ Blast/StringSplitter.hpp ]
  - symbol: Blast::ShellCommandExecutorWithCallback
    headers: [ Blast/ShellCommandExecutorWithCallback.hpp ]
  - symbol: std::cout
    headers: [ iostream ]
  - symbol: std::endl
    headers: [ iostream ]
  - symbol: std::stringstream
    headers: [ sstream ]
